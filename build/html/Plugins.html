

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Plugins &mdash; Foreman Project  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="0. Quickstart" href="Quickstart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Foreman Project
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Quickstart.html">0. Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#popular-plugins">1.1 Popular Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#more-plugins">1.2 More plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">1.3 Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-foreman-installer">1.3.1 Using the Foreman installer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-installation">1.3.2 Package installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-installation-from-gems">1.3.4 Advanced Installation from Gems</a></li>
<li class="toctree-l3"><a class="reference internal" href="#red-hat-distributions">1.3.5 Red Hat distributions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debian-distributions">1.3.6 Debian distributions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#writing-your-own">1.4 Writing Your Own</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#making-your-plugin-official">1.4.1 Making your plugin official</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Foreman Project</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>1. Plugins</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Plugins.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="plugins">
<h1>1. Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h1>
<p>Plugins are tools to extend and modify the functionality of Foreman, Smart Proxy and Hammer CLI.
The core Foreman applications are designed to be lean, to maximize flexibility and to minimize code
bloat. Plugins offer custom functions and features so that each user can tailor their environment
to their specific needs.</p>
<p>A plugin project may consist of a single Foreman or Smart Proxy plugin, or often a Foreman plugin,
Smart Proxy plugin, and a Hammer CLI plugin working together.</p>
<p>Foreman plugins are implemented as Rails engines, and Foreman, Smart Proxy and Hammer CLI plugins
are all packaged as gems, RPMs and Debian packages.</p>
<div class="section" id="popular-plugins">
<h2>1.1 Popular Plugins<a class="headerlink" href="#popular-plugins" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="more-plugins">
<h2>1.2 More plugins<a class="headerlink" href="#more-plugins" title="Permalink to this headline">¶</a></h2>
<p>Full lists of plugins are available:</p>
<p>Foreman plugins
Smart proxy plugins
Hammer CLI plugins</p>
</div>
<div class="section" id="installation">
<h2>1.3 Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Foreman, Smart Proxy and Hammer CLI plugins are packaged as gems, but the Foreman project provides RPMs and Debian packages to ease installation with standard Foreman packages. See below for the different installation methods, which depend on your platform.</p>
<p>The number of plugins available in the project repositories is increasing, so check the wiki to see if a package is available yet. If it’s a useful or popular plugin and not yet packaged, please file a feature request in the packaging project (see Bug Reporting for more details on reporting issues).</p>
<div class="section" id="using-the-foreman-installer">
<h3>1.3.1 Using the Foreman installer<a class="headerlink" href="#using-the-foreman-installer" title="Permalink to this headline">¶</a></h3>
<p>Some plugins can be installed using the Foreman installer, which can help with additional configuration that the plugin may require, e.g. config files or services.</p>
<p>To see which plugins the installer can set up, run:</p>
<dl class="simple">
<dt># foreman-installer –help | grep enable-</dt><dd><p>–[no-]enable-foreman-plugin-discovery Enable ‘foreman_plugin_discovery’ puppet module (default: false)
–[no-]enable-foreman-plugin-docker Enable ‘foreman_plugin_docker’ puppet module (default: false)
–[no-]enable-foreman-plugin-hooks Enable ‘foreman_plugin_hooks’ puppet module (default: false)</p>
</dd>
</dl>
<p>Run the installer with the extra –enable… argument to add the plugin. Any arguments given when
Foreman was first installed will be kept the same, saved in the installer answers file.</p>
<p>Note that the installer will enforce the state of all managed configuration files, so manual changes will be reverted. Use –noop -v first to check for any unexpected changes.</p>
<p>foreman-installer –noop -v –enable-foreman-plugin-discovery
Run again without noop to make the changes:</p>
<p>foreman-installer –enable-foreman-plugin-discovery
Some plugins have additional parameters, which can be changed using foreman-installer -i for interactive mode or found in the foreman-installer –help output.</p>
</div>
<div class="section" id="package-installation">
<h3>1.3.2 Package installation<a class="headerlink" href="#package-installation" title="Permalink to this headline">¶</a></h3>
<p>Select operating system
To provide specific installation instructions, please select your operating system:</p>
<p>The repositories are available at <a class="reference external" href="https://deb.theforeman.org">https://deb.theforeman.org</a> plugins &lt;version&gt;. Separate repositories are available for each Foreman release, containing plugins that are compatible with that particular version. They are signed with the Foreman APT key.</p>
<p>If not already configured, add the repo by editing /etc/apt/sources.list.d/deb_theforeman_org.list and adding the following line:</p>
<p>deb <a class="reference external" href="http://deb.theforeman.org/">http://deb.theforeman.org/</a> plugins 1.21
To install a plugin:</p>
<p>Find the package for the plugin: apt-cache search discovery
Install the package, e.g. apt-get install ruby-foreman-discovery
Restart Foreman: touch ~foreman/tmp/restart.txt or service apache2 restart
Some plugins (e.g. foreman_column_view) may also require configuration in /etc/foreman/plugins/, check for any .example files. Smart proxy plugins can be configured in /etc/foreman-proxy/settings.d/.</p>
<p>The naming of packages is as follows:</p>
<p>Packages for Foreman have a ruby-foreman- prefix.
Smart proxy packages have a ruby-smart-proxy- prefix.
Hammer CLI packages have a ruby-hammer-cli- prefix.</p>
</div>
<div class="section" id="advanced-installation-from-gems">
<h3>1.3.4 Advanced Installation from Gems<a class="headerlink" href="#advanced-installation-from-gems" title="Permalink to this headline">¶</a></h3>
<p>Not recommended, as it’s possible for the ‘gem’ command to install other, newer dependencies, which can cause problems with the Foreman installation. Do note the install without dependencies below to avoid this problem.</p>
<p>Ensure the plugin you want is available from rubygems.org as a gem. Plugins that aren’t published (just git repos) can’t be installed with this method without being built as a gem.</p>
</div>
<div class="section" id="red-hat-distributions">
<h3>1.3.5 Red Hat distributions<a class="headerlink" href="#red-hat-distributions" title="Permalink to this headline">¶</a></h3>
<p>If on EL7, run scl enable tfm bash first for an SCL-enabled shell.</p>
<p>Install without dependencies: gem install –ignore-dependencies foreman_column_view
If you need other dependencies (see the rubygems.org page), check the yum repo above (e.g. deface, nokogiri) or install the same way with ‘gem’
Add to the bundler.d/Gemfile.local.rb file as detailed below.
Restart Foreman with service foreman restart
If you hit problems, uninstall the added gems with &lt;pre&gt;gem uninstall -v VERSION GEM&lt;/pre&gt;</p>
</div>
<div class="section" id="debian-distributions">
<h3>1.3.6 Debian distributions<a class="headerlink" href="#debian-distributions" title="Permalink to this headline">¶</a></h3>
<p>It is recommended to use ~foreman/bundler.d/Gemfile.local.rb so that it is not overwritten by future upgrades.</p>
<p>If it’s published on rubygems.org, just add the name and the latest released version will be downloaded. Add to bundler.d/Gemfile.local.rb:
gem ‘foreman_sample_plugin’
Or bundler can install the plugin from a git repository. Add to bundler.d/Gemfile.local.rb:
gem ‘foreman_sample_plugin’, :git =&gt; “<a class="reference external" href="https://github.com/example/foreman_sample_plugin.git">https://github.com/example/foreman_sample_plugin.git</a>”
Next, as user foreman (not root!), run the following command: $ /usr/bin/foreman-ruby /usr/bin/bundle install
Once the plugin has been installed for the first time, you can use $ /usr/bin/foreman-ruby /usr/bin/bundle update foreman_sample_plugin to update it
Then restart Foreman with touch ~foreman/tmp/restart.txt</p>
</div>
</div>
<div class="section" id="writing-your-own">
<h2>1.4 Writing Your Own<a class="headerlink" href="#writing-your-own" title="Permalink to this headline">¶</a></h2>
<p>More information about writing your own plugins is available in the wiki:</p>
<p>How to Create a Foreman Plugin
How to Create a Smart Proxy Plugin
Hammer CLI developer documentation
The Foreman development forum and IRC channels can be of help for plugin developers.</p>
<div class="section" id="making-your-plugin-official">
<h3>1.4.1 Making your plugin official<a class="headerlink" href="#making-your-plugin-official" title="Permalink to this headline">¶</a></h3>
<p>We are happy to help bring your plugin to the Foreman Community! We offer:</p>
<p>Automated testing of your plugin in our Jenkins CI system
Adding it to our packaging repos so users can yum/apt install it
Hosting the plugin code under our ‘theforeman’ organization on GitHub
An issue tracker on our Redmine instance (or use GitHub issues)
We do ask for a few things in return:</p>
<p>Releases are tagged, ideally using SemVer
Repos (on GitHub) and gems (on Rubygems) have an extra maintainer added
This is so that we can help with maintenance if you become too busy or move on from the plugin
You’re welcome to request a specific member of the development community to be the additional author, otherwise we’ll recommend someone</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="Quickstart.html" class="btn btn-neutral float-left" title="0. Quickstart" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Rahul Bajaj

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>